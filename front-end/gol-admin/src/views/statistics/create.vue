<template>
  <div class="app-container">
    <!--è¡¨å•-->
    <el-form :inline="true" class="demo-form-inline">

      <el-form-item label="æ—¥æœŸ">
        <el-date-picker v-model="day" type="date" placeholder="é€‰æ‹©è¦ç»Ÿè®¡çš„æ—¥æœŸ" value-format="yyyy-MM-dd" />
      </el-form-item>


      <el-button :disabled="btnDisabled" plain="true" type="primary" @click="create()">ç”Ÿæˆ</el-button>
    </el-form>

  </div>
</template>
<script>
  //å¼•å…¥statistics.jsæ–‡ä»¶
  import statisticsApi from '@/api/statistics'
  export default {
    data() {
      return {
        day: '',
        btnDisabled: false
      }
    },
    //é’©å­å‡½æ•°
    created() {

    },
    methods: {
      create() {
        statisticsApi.createStatistics(this.day)
          .then(response => {
            //æç¤ºä¿¡æ¯
            this.$message({
              type: 'success',
              message: 'ç”Ÿæˆæ•°æ®æˆåŠŸ! ğŸ˜Š'
            })
            //è·³è½¬åˆ°å›¾è¡¨æ˜¾ç¤ºé¡µé¢
            this.$router.push({
              path: '/statistics/list'
            })
          })
      }
    }
  }
</script>
